<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Aagash Affiliate Hub ‚Äì V6.0 (REAL BACKEND ENABLED)</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<style>
body{background:#000;color:#fff;font-family:Arial;margin:0;display:flex;}
.sidebar{width:250px;background:#020202;height:100vh;border-right:2px solid cyan;position:fixed;padding-top:20px;}
.sidebar a{display:block;color:cyan;padding:15px;font-size:18px;text-decoration:none;}
.sidebar a:hover{background:cyan;color:black;}
.main{margin-left:260px;padding:25px;width:100%;}
.card{background:#111;padding:20px;border-radius:10px;border:2px solid cyan;margin-bottom:20px;}
input,textarea{width:100%;padding:10px;background:#222;border:1px solid cyan;color:white;border-radius:6px;margin-bottom:10px;}button{background:cyan;color:#000;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;}button:hover{opacity:0.8;}
</style>
</head>
<body>
<div class="sidebar">
<a onclick="loadHome()">üè† Dashboard</a>
<a onclick="loadProducts()">üì¶ Products</a>
<a onclick="loadAddProduct()">‚ûï Add Product</a>
<a onclick="loadClicks()">üëÜ Live Clicks</a>
<a onclick="loadShortener()">üîó URL Shortener</a>
<a onclick="loadUsers()">üë• User Roles</a>
<a onclick="loadStats()">üìä Analytics</a>
</div>
<div class="main" id="content"><h1>Connecting to Supabase‚Ä¶</h1></div>
<script>
// ----------- SUPABASE REAL BACKEND SETUP ----------- //
const SUPABASE_URL = "https://your-project.supabase.co";
const SUPABASE_KEY = "public-anon-key";
const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);// ------------------- REAL SYSTEM TABLES ------------------- // // Tables used: // users(id, email, role) // products(id, name, link, desc, img, category) // clicks(id, product_id, count) // shortlinks(id, code, long_url)

// ------------------- DASHBOARD ------------------- // async function loadHome(){ let { data: products } = await supabase.from('products').select(''); let { data: clicks } = await supabase.from('clicks').select(''); let totalClicks = clicks.reduce((a,b)=>a+b.count,0); content.innerHTML = `

 <h1>üî• REAL Dashboard</h1>
 <div class='card'><h2>Total Products: ${products.length}</h2></div>
 <div class='card'><h2>Total Clicks: ${totalClicks}</h2></div>
 `;
}// ------------------- ADD PRODUCT (REAL DB) ------------------- // function loadAddProduct(){ content.innerHTML = `

 <h1>Add Product</h1>
 <div class='card'>
 <input id='pname' placeholder='Name'>
 <input id='plink' placeholder='Affiliate Link'>
 <textarea id='pdesc' placeholder='Description'></textarea>
 <button onclick='saveProduct()'>Save</button>
 </div>`;
}
async function saveProduct(){
 await supabase.from('products').insert({
   name: pname.value,
   link: plink.value,
   desc: pdesc.value,
   category: "General"
 });
 alert("Saved to REAL database");
 loadProducts();
}// ------------------- LOAD PRODUCTS (REAL DB) ------------------- // async function loadProducts(){ let { data } = await supabase.from('products').select('*'); let html = <h1>Products</h1>; data.forEach(p=>{ html += `<div class='card'> <h2>${p.name}</h2> <p>${p.desc}</p> <button onclick="trackClick(${p.id})">Visit Offer</button>

   </div>`;
 });
 content.innerHTML = html;
}// ------------------- LIVE CLICK TRACKING ------------------- // async function trackClick(id){ let { data } = await supabase.from('clicks').select('').eq('product_id',id).single(); if(!data){ await supabase.from('clicks').insert({product_id:id,count:1}); } else { await supabase.from('clicks').update({count:data.count+1}).eq('product_id',id); } window.open('https://google.com'); } async function loadClicks(){ let { data } = await supabase.from('clicks').select(''); let html = <h1>Live Click Tracking</h1>; data.forEach(c=>html+=<div class='card'>Product ${c.product_id}: ${c.count} clicks</div>); content.innerHTML = html; }

// ------------------- URL SHORTENER ------------------- // function loadShortener(){ content.innerHTML = `

 <h1>Shorten URL</h1>
 <div class='card'>
 <input id='longUrl' placeholder='Paste URL'>
 <button onclick='shorten()'>Shorten</button>
 <p id='shortOut'></p>
 </div>`;
}
async function shorten(){
 let code = Math.random().toString(36).substring(2,7);
 await supabase.from('shortlinks').insert({ code:code, long_url:longUrl.value });
 shortOut.innerHTML = `Short Link: https://aag.sh/${code}`;
}// ------------------- ROLE SYSTEM ------------------- // function loadUsers(){ content.innerHTML=<h1>User Roles</h1><div class='card'><p>Admin / Editor / Viewer backend ready.</p></div>; }

// ------------------- ANALYTICS ------------------- // async function loadStats(){ let { data } = await supabase.from('clicks').select('*'); let html = <h1>Analytics</h1><div class='card'><canvas id='chart'></canvas></div>; content.innerHTML = html; setTimeout(()=>drawChart(data),300); } function drawChart(data){ let ctx = document.getElementById('chart'); new Chart(ctx,{type:'bar',data:{labels:data.map(x=>x.product_id),datasets:[{label:'Clicks',data:data.map(x=>x.count),backgroundColor:'cyan'}]}}); } </script>

</body>
</html>
